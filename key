-- Variável de controle para verificar se a função MakeScriptHub já foi executada
local scriptHubAlreadyLoaded = false

-- Carregamento do OrionLib e configuração inicial
local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/Banana2416fjoe/bananahub/main/source')))()
local Player = game.Players.LocalPlayer
local Window = OrionLib:MakeWindow({
    Name = "Banana Hub Key System",
    HidePremium = false,
    SaveConfig = true,
    ConfigFolder = "OrionTest",
    IntroText = "Loading Script...",
    IntroIcon = "rbxassetid://7734058345"
})

-- Função para carregar o script hub (será chamada apenas uma vez)
local function MakeScriptHub()
    loadstring(game:HttpGet('https://raw.githubusercontent.com/Banana2416fjoe/bananahub/main/main'))()
end

-- Notificação inicial solicitando a chave do jogador
OrionLib:MakeNotification({
    Name = "Logged In!",
    Content = "You need key "..Player.Name..".",
    Image = "rbxassetid://7733978098",
    Time = 5
})

-- Definição da chave correta e variável para a entrada do jogador
getgenv().Key = "juliano"
getgenv().KeyInput = "string"

-- Criação da tab "Key" para entrada da chave
local Tab = Window:MakeTab({
    Name = "Key",
    Icon = "rbxassetid://7733965118",
    PremiumOnly = false
})

-- Adição de um campo de texto para entrada da chave
Tab:AddTextbox({
    Name = "Key",
    Default = "Enter Key.",
    TextDisappear = true,
    Callback = function(Value)
        getgenv().KeyInput = Value
    end
})

-- Adição do botão para verificar a chave
Tab:AddButton({
    Name = "Check Key",
    Callback = function()
        if getgenv().KeyInput == getgenv().Key then
            OrionLib:MakeNotification({
                Name = "Checking Key",
                Content = "Checking The Key You Entered",
                Image = "rbxassetid://7733993311",
                Time = 5
            })
            wait(2)
            OrionLib:MakeNotification({
                Name = "Correct Key!",
                Content = "The key you entered is Correct.",
                Image = "rbxassetid://7743876142",
                Time = 5
            })
            wait(1)
            OrionLib:Destroy() -- Fecha a janela após o carregamento correto da chave
            if not scriptHubAlreadyLoaded then
                MakeScriptHub() -- Carrega o script hub apenas se ainda não tiver sido carregado
                scriptHubAlreadyLoaded = true -- Marca que o script já foi carregado
            end
        else
            OrionLib:MakeNotification({
                Name = "Checking Key",
                Content = "Checking The Key You Entered",
                Image = "rbxassetid://7733993311",
                Time = 5
            })
            wait(2)
            OrionLib:MakeNotification({
                Name = "Incorrect Key!",
                Content = "The key you entered is incorrect.",
                Image = "rbxassetid://7743878857",
                Time = 5
            })
        end
    end
})

-- Adição do botão para copiar a chave
Tab:AddButton({
    Name = "Copy Key",
    Callback = function()
        setclipboard(getgenv().Key) -- Copia a chave correta para a área de transferência
    end
})

-- Inicialização da janela do OrionLib
OrionLib:Init()
