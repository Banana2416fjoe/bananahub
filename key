-- Variável para controlar se o script já foi carregado
local scriptLoaded = false

-- Função para carregar o script hub
local function LoadScriptHub()
    loadstring(game:HttpGet('https://raw.githubusercontent.com/Banana2416fjoe/bananahub/main/main'))()
end

-- Função para enviar notificação de script já carregado
local function NotifyScriptAlreadyLoaded()
    local OrionLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/Banana2416fjoe/bananahub/main/source')))()
    OrionLib:MakeNotification({
        Name = "Key Already Loaded!",
        Content = "The key has already been loaded.",
        Image = "rbxassetid://7743878857",
        Time = 5
    })
end

-- Função principal para verificar a chave e carregar o script
local function CheckKeyAndLoadScript()
    -- Verifica se o script já foi carregado
    if scriptLoaded then
        NotifyScriptAlreadyLoaded()
        return
    end

    -- Define a chave correta e variável para entrada do jogador
    local correctKey = "juliano"
    local keyInput = "string" -- Isso pode ser alterado conforme necessário

    -- Criação de uma janela básica para demonstração
    local Window = OrionLib:MakeWindow({
        Name = "Banana Hub Key System",
        HidePremium = false,
        SaveConfig = true,
        ConfigFolder = "OrionTest",
        IntroText = "Loading Script...",
        IntroIcon = "rbxassetid://7734058345"
    })

    -- Notificação inicial solicitando a chave do jogador
    OrionLib:MakeNotification({
        Name = "Logged In!",
        Content = "You need key "..game.Players.LocalPlayer.Name..".",
        Image = "rbxassetid://7733978098",
        Time = 5
    })

    -- Criação da tab "Key" para entrada da chave
    local Tab = Window:MakeTab({
        Name = "Key",
        Icon = "rbxassetid://7733965118",
        PremiumOnly = false
    })

    -- Adição de um campo de texto para entrada da chave
    Tab:AddTextbox({
        Name = "Key",
        Default = "Enter Key.",
        TextDisappear = true,
        Callback = function(Value)
            keyInput = Value
        end
    })

    -- Adição do botão para verificar a chave
    Tab:AddButton({
        Name = "Check Key",
        Callback = function()
            -- Verifica se a chave inserida é correta
            if keyInput == correctKey then
                OrionLib:MakeNotification({
                    Name = "Correct Key!",
                    Content = "The key you entered is Correct.",
                    Image = "rbxassetid://7743876142",
                    Time = 5
                })
                wait(1)
                OrionLib:Destroy() -- Fecha a janela após o carregamento correto da chave

                -- Carrega o script hub apenas se ainda não tiver sido carregado
                if not scriptLoaded then
                    LoadScriptHub()
                    scriptLoaded = true -- Marca que o script já foi carregado
                end
            else
                OrionLib:MakeNotification({
                    Name = "Incorrect Key!",
                    Content = "The key you entered is incorrect.",
                    Image = "rbxassetid://7743878857",
                    Time = 5
                })
            end
        end
    })

    -- Adição do botão para copiar a chave
    Tab:AddButton({
        Name = "Copy Key",
        Callback = function()
            setclipboard(correctKey) -- Copia a chave correta para a área de transferência
        end
    })

    -- Inicialização da janela do OrionLib
    OrionLib:Init()
end

-- Chamar a função principal
CheckKeyAndLoadScript()
