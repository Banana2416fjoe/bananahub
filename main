-- Verifica se o código já está em execução usando _G
if not _G.MyImageButtonActive then
    -- Cria o ScreenGui
    local ScreenGui = Instance.new("ScreenGui")
    ScreenGui.Name = "MyScreenGui"
    ScreenGui.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
    ScreenGui.Parent = game.CoreGui
    
    -- Cria o ImageButton dentro do ScreenGui
    local ImageButton = Instance.new("ImageButton")
    ImageButton.Name = "MyImageButton"
    ImageButton.BackgroundColor3 = Color3.fromRGB(255, 255, 255)  -- Cor de fundo branco para mostrar o círculo
    ImageButton.BorderSizePixel = 0
    ImageButton.AnchorPoint = Vector2.new(0, 0)  -- Define o ponto de ancoragem para o canto superior esquerdo
    ImageButton.Position = UDim2.new(0.02, 0, 0.02, 0)  -- Posição aproximada no canto superior esquerdo
    ImageButton.Draggable = true
    ImageButton.Size = UDim2.new(0, 50, 0, 50)  -- Tamanho do ImageButton
    ImageButton.Image = "http://www.roblox.com/asset/?id=18442697626"  -- Imagem circular
    ImageButton.ImageColor3 = Color3.fromRGB(255, 255, 255)  -- Cor da imagem (branco)
    ImageButton.ScaleType = Enum.ScaleType.Fit  -- Ajusta a imagem para caber dentro do botão
    ImageButton.ClipsDescendants = true  -- Recorta a imagem para manter a forma circular
    ImageButton.Parent = ScreenGui
    
    -- Conecta o evento MouseButton1Down
    ImageButton.MouseButton1Down:Connect(function()
        game:GetService("VirtualInputManager"):SendKeyEvent(true, Enum.KeyCode.LeftControl, false, game)
    end)
    
    -- Define _G para indicar que o código está em execução
    _G.MyImageButtonActive = true
else
    warn("O código já está em execução.")
end



-- Verifica se o Banana Hub já foi carregado
if _G.BananaHubLoaded then
    -- Se já carregado, exibe uma notificação informando que está carregado
    local BananaLib = _G.BananaLib
    if BananaLib then
        BananaLib:MakeNotification({ Name = "Banana Hub", Content = "Banana Hub is already loaded", Image = "rbxassetid://4483345998", Time = 5 })
    end
    return
end

-- Marca que o Banana Hub está sendo carregado
_G.BananaHubLoaded = true

-- Função para carregar o hub
local function loadBananaHub()
    local BananaLib = loadstring(game:HttpGet(('https://raw.githubusercontent.com/Banana2416fjoe/bananahub/main/source')))()
    _G.BananaLib = BananaLib -- Salva a instância para acesso posterior

    local Player = game.Players.LocalPlayer
    local Window = BananaLib:MakeWindow({Name = "Banana Hub", HidePremium = false, SaveConfig = true, ConfigFolder = "BananaHub", IntroText = "Loading...", IntroIcon = "rbxassetid://7734058345" })

    -- Tab Main
    local Tab = Window:MakeTab({ Name = "Main", Icon = "rbxassetid://7733960981", PremiumOnly = false })
    local Section = Tab:AddSection({ Name = "Main Section" })
    Tab:AddButton({ Name = "Rejoin Server", Callback = function()
        local ts = game:GetService("TeleportService")
        local p = game:GetService("Players").LocalPlayer
        ts:Teleport(game.PlaceId, p)
    end })
    Tab:AddButton({ Name = "Unc Test", Callback = function()
        loadstring(game:HttpGet("https://github.com/ltseverydayyou/uuuuuuu/blob/main/UNC%20test?raw=true"))()
    end })
    Tab:AddButton({ Name = "Kick Self", Callback = function()
        game.Players.LocalPlayer:Kick("You Have Been Kicked")
    end })
    Tab:AddButton({ Name = "Destroy Banana Hub", Callback = function()
        BananaLib:Destroy()
    end })

    -- Tab Anime Dimensions
    local Tab = Window:MakeTab({ Name = "Anime Dimensions", Icon = "rbxassetid://7733799901", PremiumOnly = false })
    local Section = Tab:AddSection({ Name = "Scripts" })
    Tab:AddButton({ Name = "Script CrazyDay", Callback = function()
        loadstring(game:HttpGet('https://raw.githubusercontent.com/CanisLupusXL/CanislupusXHub/main/Anime_Dimension_Simulator'))()
    end })

    -- Tab Blox Fruits
    local Tab = Window:MakeTab({ Name = "Blox Fruits", Icon = "rbxassetid://7733799901", PremiumOnly = false })
    local Section = Tab:AddSection({ Name = "Farm" })
    BananaLib:MakeNotification({ Name = "Banana Hub", Content = "Banana Hub Loaded", Image = "rbxassetid://4483345998", Time = 5 })
    Tab:AddButton({ Name = "Auto Chest", Callback = function()
        _G.JoinTeam = "Marines"
        _G.Stop_If_Has_Items = true
        loadstring(game:HttpGet("https://github.com/PNguyen0199/Script/raw/main/Trash_Auto_Chest.lua"))()
    end })
    Tab:AddButton({ Name = "Ninja Hub Azure", Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/Xero2409/NinjaHub/main/ninjahub.lua"))()
    end })
    Tab:AddButton({ Name = "Ninja Hub Hoho", Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/acsu123/NinjaHub/main/LoaderBloxFruit.lua"))()
    end })
    Tab:AddButton({ Name = "W-Azure V2", Callback = function() 
        getgenv().Team = "Marines"
        getgenv().AutoLoad = true
        getgenv().SlowLoadUi = false
        getgenv().ForceUseSilentAimDashModifier = false
        getgenv().ForceUseWalkSpeedModifier = false
        loadstring(game:HttpGet("https://api.luarmor.net/files/v3/loaders/3b2169cf53bc6104dabe8e19562e5cc2.lua"))()
    end })

    -- Tab Murder Mystery 2
    local Tab = Window:MakeTab({ Name = "Murder Mystery 2", Icon = "rbxassetid://7733799901", PremiumOnly = false })
    local Section = Tab:AddSection({ Name = "Scripts" })
    Tab:AddButton({ Name = "Symphony Hub", Callback = function()
        loadstring(game:HttpGet('https://raw.githubusercontent.com/ThatSick/ArrayField/main/SymphonyHub.lua'))()
    end })

    -- Tab Skywars/Bedwars
    local Tab = Window:MakeTab({ Name = "Skywars/Bedwars", Icon = "rbxassetid://7733799901", PremiumOnly = false })
    local Section = Tab:AddSection({ Name = "Scripts" })
    Tab:AddButton({ Name = "Vape V4", Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/7GrandDadPGN/VapeV4ForRoblox/main/NewMainScript.lua", true))()
    end })
    Tab:AddButton({ Name = "Nexus", Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/s-o-a-b/nexus/main/loadstring"))()
    end })

    -- Tab Universal
    local Tab = Window:MakeTab({ Name = "Universal", Icon = "rbxassetid://7733799901", PremiumOnly = false })
    local Section = Tab:AddSection({ Name = "Admin" })
    Tab:AddButton({ Name = "Infinite Yield Reborn", Callback = function()
        loadstring(game:HttpGet("https://github.com/fuckusfm/infiniteyield-reborn/raw/master/source"))()
    end })
    local Section = Tab:AddSection({ Name = "Player" })
    Tab:AddButton({ Name = "Fly V3", Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/XNEOFF/FlyGuiV3/main/FlyGuiV3.txt"))()
    end })
    Tab:AddButton({ Name = "Npc Hitbox Expander", Callback = function()
        loadstring(game:HttpGet("https://hastebin.skyra.pw/raw/zayajuquva"))()
    end })
    Tab:AddButton({ Name = "OP Fling", Callback = function()
        loadstring(game:HttpGet(('https://raw.githubusercontent.com/0Ben1/fe/main/obf_rf6iQURzu1fqrytcnLBAvW34C9N55kS9g9G3CKz086rC47M6632sEd4ZZYB0AYgV.lua.txt'),true))()
    end })
    local Section = Tab:AddSection({ Name = "Others" })
    Tab:AddButton({ Name = "Keyboard", Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/GGH52lan/GGH52lan/main/keyboard.txt"))()
    end })
    Tab:AddButton({ Name = "NukeVsCity", Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/NukeVsCity/TheALLHACKLoader/main/NukeLoader", true))()
    end })
    Tab:AddButton({ Name = "Index Hub 300+ Scripts", Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/IndexZHub/Loader/main/Loader"))()
    end })
    Tab:AddButton({ Name = "VexHub", Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/V31nc/On-Discord/Created/VexHub"))()
    end })
    Tab:AddButton({ Name = "Universal Hub FE", Callback = function()
        loadstring(game:HttpGet('https://raw.githubusercontent.com/Dvrknvss/UniversalFEScriptHub/main/Script'))()
    end })

 -- Tab Zombie Uprising
    local Tab = Window:MakeTab({ Name = "Zombie Uprising", Icon = "rbxassetid://7733799901", PremiumOnly = false })
    local Section = Tab:AddSection({ Name = "scripts" })
    Tab:AddButton({ Name = "Universe X", Callback = function()
        loadstring(game:HttpGet("https://raw.githubusercontent.com/dqtixz/Universal-Script-Projeto/main/LKA%20By%20dqtixz%20Script"))();
    end })

    -- Exibindo notificação de que o Banana Hub foi carregado
    BananaLib:MakeNotification({ Name = "Banana Hub", Content = "Banana Hub Loaded", Image = "rbxassetid://4483345998", Time = 5 })
end

-- Verifica se o Banana Hub já foi carregado antes de tentar carregar novamente
if not _G.BananaLib then
    -- Se não foi carregado, carrega o Banana Hub
    loadBananaHub()
else
    -- Se já foi carregado, exibe a notificação de que está carregado
    local BananaLib = _G.BananaLib
    if BananaLib then
        BananaLib:MakeNotification({ Name = "Banana Hub", Content = "Banana Hub is already loaded", Image = "rbxassetid://4483345998", Time = 5 })
    end
end
